# Svelte Kit vs NextJS

Comparison of major features in Svelte Kit vs NextJS.

Goals: fast, easy, convention over configuration, & batteries included.
Overwhelming choices are bad versus providing a clear path forward.
|                                                                                               | Svelte Kit                                                                                              | NextJS                                                            | Winner    | Notes                                                                                                                                                                                   |
| --------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------- | --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| UI lib                                                                                        | Svelte                                                                                                  | React (or Preact)                                                 | SvelteKit | Svelte offers faster, more minimal DOM updates & smaller Kb client size.                                                                                                                |
| Dev: Hot reload                                                                               | üü¢                                                                                                      | üü¢                                                                | --        | I.e. Auto reload on file save.                                                                                                                                                          |
| Dev: O(1) hot reload                                                                          | üü¢ Vite                                                                                                 | ‚ùå                                                                | SvelteKit | I.e. Processes only the changed files. Fast even in big projects.                                                                                                                       |
| Dev: "Fast refresh"                                                                           | üü¢                                                                                                      | üü¢                                                                | --        | I.e. UI state preserved across reloads.                                                                                                                                                 |
| Dev: Write modern JS                                                                          | üü¢                                                                                                      | üü¢                                                                | --        | Svelte compiler processes it. NextJS uses Babel for this.                                                                                                                               |
| Dev: A11y console hints                                                                       | üü¢                                                                                                      | ‚ùå                                                                | SvelteKit |                                                                                                                                                                                         |
| Dev: Prettier                                                                                 | üü¢ \*                                                                                                   | üü¢                                                                | --        | For `.svelte` or `.jsx` files. \*Install 'Svelte for VSCode' extension.                                                                                                                 |
| Prod: Bundler                                                                                 | üü¢ Rollup                                                                                               | üü¢ Webpack                                                        | --        | E.g. Minify assets, etc.                                                                                                                                                                |
| Prod: Auto code splitting, per route                                                          | üü¢                                                                                                      | üü¢                                                                | --        | I.e. Auto code splits JS per route & bundles appropriately.                                                                                                                             |
| Prod: [HTTP2 push](https://brianli.com/cloudflare-workers-sites-http2-server-push/) of JS/CSS | ‚ùå                                                                                                      | ‚ùå                                                                | _Neither_ | I.e. Set initial page's HTML headers to push JS & CSS. Requires host support. And/or add 'link preload' to HTML head for required CSS & JS.                                             |
| Prod: Build adapters for different hosts                                                      | üü¢                                                                                                      | ‚ùå                                                                | SvelteKit | NextJS works best with Vercel. SvelteKit provides easy portability.                                                                                                                          |
| Kb size: Hello World                                                                          | 20.4 (~9.6 gzip)\*                                                                                      | _?_ 204                                                           | SvelteKit | \*Mar 13 2021. <https://svelte.dev/blog/sapper-towards-the-ideal-web-app-framework>                                                                                                     |
| Kb size: "Real World" app                                                                     | 45.3 (~21.8 gzip)\*                                                                                     | _?_ 327 (~85.7 gzip)                                              | SvelteKit | \*Mar 13, 2021 <https://realworld.svelte.dev/>, <https://svelte.dev/blog/sapper-towards-the-ideal-web-app-framework>                                                                    |
| Rendering: SSR, per route                                                                     | üü¢                                                                                                      | üü¢                                                                | --        | I.e. Server-side rendered (at run time).                                                                                                                                                |
| Rendering: SSG, per route                                                                     | üü¢                                                                                                      | üü¢                                                                | --        | I.e. Static (at build time).                                                                                                                                                            |
| Rendering: Incremental SSG, per route                                                         | ?                                                                                                       | üü¢                                                                | NextJS    | I.e. Static 'on demand' in production--first req dynamic then cached.                                                                                                                   |
| Headers: s-max-age & max-age, per route                                                       | ‚ùå üü¢                                                                                                   | ‚ùå üü¢                                                             | --        | Both allow headers to be set for server routes, but neither for other routes. Both can be via [Vercel.json](https://vercel.com/docs/configuration#project/headers) if hosted on Vercel. |
| Routes: File-based routing                                                                    | üü¢                                                                                                      | üü¢                                                                | --        | For simplicity. Other routing utilities should be included.                                                                                                                             |
| Routes: "SPA mode"                                                                            | üü¢                                                                                                      | üü¢                                                                | --        | I.e. After initial page load, client-side routing is used.                                                                                                                              |
| Routes: Pre-fetch JS/CSS on link hover                                                        | üü¢                                                                                                      | üü¢ next/link                                                      | SvelteKit | Just add `sveltekit:prefetch` to a regular link. NextJS' requires using their link component; see docs.                                                                                 |
| Built-in: Metadata                                                                            | üü¢                                                                                                      | üü¢ next/head                                                      | --        | Place within `<svelte:head>...</svelte:head>`                                                                                                                                           |
| Built-in: State management                                                                    | üü¢ svelte/store                                                                                         | ‚ùå                                                                | SvelteKit | Ideal is one, easy, built-in way. React has many choices--Zustand is reasonable.                                                                                                        |
| Built-in: Animations                                                                          | üü¢ svelte/animate                                                                                       | ‚ùå                                                                | SvelteKit | 3rd-party options exist for React, but they're not as easy to use.                                                                                                                      |
| Built-in: CSS scoping                                                                         | üü¢                                                                                                      | üü¢                                                                | SvelteKit | Svelte's is automatic. NextJS' is via CSS modules or CSS in JSX (not as clean).                                                                                                         |
| Built-in: Web vitals reporting                                                                | ‚ùå                                                                                                      | üü¢                                                                | NextJS    | Vercel & Cloudflare 'Browser Insights' offer free analytics dashboards.                                                                                                                 |
| Image component                                                                               | üü¢? [svelte-image](https://svelte-image.matyunya.now.sh/)                                               | üü¢ [next/image](https://nextjs.org/docs/api-reference/next/image) | --        | Preferably optimized image generation with caching.                                                                                                                                     |
| Auth                                                                                          | ‚ùå ([soon?](https://github.com/sveltejs/kit/tree/master/examples/realworld.svelte.dev/src/routes/auth)) | üü¢ [NextAuth.js](https://next-auth.js.org)                        | NextJS    | NextAuth.js is defacto standard; easy to use; email, social, &/or magic link.                                                                                                           |
| Forms                                                                                         | üü¢ [Felte](https://felte.dev)                                                                           | üü¢ [Formik](https://formik.org)                                   | --        | Felte offers a nearly-native HTML5 form experience. Or [Sveltik](https://github.com/nathancahill/sveltik) is a port of Formik for React. Can use Yup for validation.                    |
| SWR-like data fetching                                                                        | üü¢? [svelte-query](https://github.com/SvelteStack/svelte-query)                                         | üü¢ [SWR](https://swr.vercel.app)                                  | --        | SWR is by Vercel. Easy fetch/isLoading/errors/caching.                                                                                                                                  |
| [Tailwind CSS](https://tailwindcss.com/) compatible                                           | üü¢                                                                                                      | üü¢                                                                | --        | Easy via github.com/svelte-add/tailwindcss. NextJS requires more steps, but [RFC](https://github.com/vercel/next.js/discussions/20030) for `npx init tailwind`                          |
| [Headless UI](https://headlessui.dev/) available                                              | ‚ùå                                                                                                      | üöß WIP                                                            | NextJS    | Un-styled UI components (dropdown, slider, toggle, etc) from Tailwind creators.                                                                                                         |
| Docs                                                                                          | _TBD_                                                                                                   | 10/10                                                             | NextJS    |                                                                                                                                                                                         |

üöß = WIP or RFC
